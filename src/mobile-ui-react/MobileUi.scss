/*---------------------------------------------------------------------------------------------
* Copyright (c) Bentley Systems, Incorporated. All rights reserved.
* See LICENSE.md in the project root for license terms and full copyright notice.
*--------------------------------------------------------------------------------------------*/
:root {
  --mui-keyboard-height: 0px;
  --mui-keyboard-effective-height: 0px;
  --mui-keyboard-animation-duration: .25s;
  --mui-fade-duration: .5s;
  /* Safe Area */
  --mui-safe-area-top: constant(safe-area-inset-top);
  --mui-safe-area-top: env(safe-area-inset-top);
  --mui-safe-area-left: constant(safe-area-inset-left);
  --mui-safe-area-left: env(safe-area-inset-left);
  --mui-safe-area-bottom: constant(safe-area-inset-bottom);
  --mui-safe-area-bottom: env(safe-area-inset-bottom);
  --mui-safe-area-right: constant(safe-area-inset-right);
  --mui-safe-area-right: env(safe-area-inset-right);
  --mui-safe-area-bottom-over-keyboard: var(--mui-safe-area-bottom);
  /* Named colors */
  --muic-gray-1-rgb: 7,8,9;
  --muic-gray-2-rgb: 42,47,52;
  --muic-gray-3-rgb: 60,67,74;
  --muic-gray-4-rgb: 77,87,95;
  --muic-gray-5-rgb: 103,116,128;
  --muic-gray-6-rgb: 133,146,157;
  --muic-gray-7-rgb: 155,165,174;
  --muic-gray-8-rgb: 166,175,183;
  --muic-gray-9-rgb: 199,204,209;
  --muic-gray-a-rgb: 220,224,227;
  --muic-gray-b-rgb: 238,240,243;
  --muic-gray-c-rgb: 248,249,251;
  --muic-gray-1: rgb(var(--muic-gray-1-rgb));
  --muic-gray-2: rgb(var(--muic-gray-2-rgb));
  --muic-gray-3: rgb(var(--muic-gray-3-rgb));
  --muic-gray-4: rgb(var(--muic-gray-4-rgb));
  --muic-gray-5: rgb(var(--muic-gray-5-rgb));
  --muic-gray-6: rgb(var(--muic-gray-6-rgb));
  --muic-gray-7: rgb(var(--muic-gray-7-rgb));
  --muic-gray-8: rgb(var(--muic-gray-8-rgb));
  --muic-gray-9: rgb(var(--muic-gray-9-rgb));
  --muic-gray-a: rgb(var(--muic-gray-a-rgb));
  --muic-gray-b: rgb(var(--muic-gray-b-rgb));
  --muic-gray-c: rgb(var(--muic-gray-c-rgb));
  --muic-active: rgb(0,139,225);
  --muic-active-contrast: white;
  --muic-foreground-inactive: var(--muic-gray-4);
  --muic-background-tab-bar-rgb: var(--muic-gray-b-rgb);
  --muic-background-tab-bar: rgb(var(--muic-background-tab-bar-rgb));
  --muic-background-active-tab: white;
  --muic-foreground-navigation-button: white;
  --muic-foreground-tile: rgb(41,54,69);
  --muic-background-tile: white;
  --muic-border-tile: var(--muic-gray-9);
  --muic-background-badge: rgb(247,112,108);
  --muic-foreground-badge: white;
  --muic-background-model: var(--muic-gray-a);
  --muic-foreground-suggestion: white;
  --muic-background-suggestion-rgb: var(--muic-gray-1-rgb);
  --muic-foreground-count-notification: var(--muic-gray-2);
  --muic-background-count-notification: white;
  --muic-foreground-count-notification-count: var(--muic-active-contrast);
  --muic-background-count-notification-count: var(--muic-active);
  --muic-foreground-count-notification-more: var(--muic-gray-8);
}

.mui-fill {
  width: 100%;
  height: 100%;
}

.mui-hidden {
  display: none;
}

.mui-faded-out {
  opacity: 0;
  transition-property: opacity;
  transition-duration: var(--mui-fade-duration);
  pointer-events: none;
}

@mixin mui-fade-gradient($direction, $r, $g, $b) {
  // See here: https://css-tricks.com/easing-linear-gradients/
  // The below comes directly from their example, which goes from fully opaque to fully transparent.
  background-image: linear-gradient(to $direction,
    rgb($r,$g,$b) 0%,
    rgba($r,$g,$b,0.738) 19%,
    rgba($r,$g,$b,0.541) 34%,
    rgba($r,$g,$b,0.382) 47%,
    rgba($r,$g,$b,0.278) 56.5%,
    rgba($r,$g,$b,0.194) 65%,
    rgba($r,$g,$b,0.126) 73%,
    rgba($r,$g,$b,0.075) 80.2%,
    rgba($r,$g,$b,0.042) 86.1%,
    rgba($r,$g,$b,0.021) 91%,
    rgba($r,$g,$b,0.008) 95.2%,
    rgba($r,$g,$b,0.002) 98.2%,
    rgba($r,$g,$b,0) 100%
  );
}

@mixin mui-navigation-background-gradient($direction: bottom) {
  @include mui-fade-gradient($direction, 0, 0, 0)
}

// The element after this needs its margin-top adjusted by -20px
.mui-panel-gradient {
  flex-shrink: 0;
  border-top: 1px solid var(--muic-gray-a);
  z-index: 1;
  left: 0px;
  // we need the gradient to extend into the left/right safe areas
  margin-left: calc(0px - var(--mui-safe-area-left));
  width: 100vw;
  height: 20px;
  &::after {
    display: block;
    content: "";
    height: 20px;
    width: 100%;
    opacity: .0384; // We don't want the opacity to be aplied to the border-top, so we put this in an ::after block.
    @include mui-fade-gradient(bottom, 0, 0, 0);
  }
}
